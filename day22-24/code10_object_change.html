<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>数组与对象的相互变换</title>
  </head>
  <body>
    <script>
      var scoreObject = {
        Tony: {
          Math: 95,
          English: 79,
          Music: 68,
        },
        Simon: {
          Math: 100,
          English: 95,
          Music: 98,
        },
        Annie: {
          Math: 54,
          English: 65,
          Music: 88,
        },
      };
      //如上有一个用来存储学习成绩的对象，编写一个函数，将其转为如下的二维数组
      //array = [["Tony", 95, 79, 68],[数组],...]
      function toArray(obj) {
        var array = []; //初始化一个数组
        for (var key in obj) {
          var queue = []; //初始化队列
          var value = obj[key];
          queue.push(key);
          for (var kk in value) {
            queue.push(value[kk]);
          }
          array.push(queue);
        }
        console.log(array);
      }
      toArray(scoreObject);

      var menuArr = [
        [1, "Area1", -1],
        [2, "Area2", -1],
        [3, "Area1-1", 1],
        [4, "Area1-2", 1],
        [5, "Area2-1", 2],
        [6, "Area2-2", 2],
        [7, "Area1-2-3", 4],
        [8, "Area2-2-1", 6],
      ];
      //如上有一个用来存储多级菜单数据的数组，编写一个函数，将其转为如下的对象
      var obj = {}; //初始化对象
      function menuArrToObj(arr) {
        var a = []; // 该数组保存每个菜单的地址
        for (var i = 0; i < arr.length; i++) {
          id = arr[i][0];
          name = arr[i][1];
          parent = arr[i][2];
          if (parent > 0) {
            if (!a[parent - 1]["subMenu"]) {
              a[parent - 1]["subMenu"] = {};
            }
            a[parent - 1]["subMenu"][id] = {};
            a[parent - 1]["subMenu"][id]["name"] = name;
            a[i] = a[parent - 1]["subMenu"][id];
          } else {
            // 第三个值等于-1
            obj[id] = {};
            obj[id]["name"] = name;
            a[i] = obj[id];
          }
        }
        //console.log(a);
        return obj;
      }
      console.log(menuArrToObj(menuArr));

      // var menuObject = {
      //     "1": {
      //         name: "Area1",
      //         subMenu: {
      //             "3": {
      //                 name: "Area1-1"
      //             },
      //             "4": {
      //                 name: "Area1-2",
      //                 subMenu: {
      //                     "7": {
      //                         name: "Area1-2-3"
      //                     }
      //                 }
      //             }
      //         }
      //     }
      // }
      // console.log(menuObject)
    </script>
  </body>
</html>
